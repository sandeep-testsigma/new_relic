{"version":3,"file":"event-origin-Bb7irpQQ.js","sources":["../../node_modules/@newrelic/browser-agent/src/common/util/event-origin.js"],"sourcesContent":["/**\n * Copyright 2020-2025 New Relic, Inc. All rights reserved.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * Returns a string representing the origin of an event target. Used by SessionTrace and PageViewTiming features to assign a \"better\" target to events\n * @param {*} t The target to derive the origin from.\n * @param {*} [target] A known target to compare to. If supplied, and a derived origin could not be reached, this will be referenced.\n * @param {*} [ee] An event emitter instance to use for context retrieval, which only applies to XMLHttpRequests.\n * @returns {string} The derived origin of the event target.\n */\nexport function eventOrigin (t, target, ee) {\n  let origin = 'unknown'\n\n  if (t && t instanceof XMLHttpRequest) {\n    const params = ee.context(t).params\n    if (!params || !params.status || !params.method || !params.host || !params.pathname) return 'xhrOriginMissing'\n    origin = params.status + ' ' + params.method + ': ' + params.host + params.pathname\n  } else if (t && typeof (t.tagName) === 'string') {\n    origin = t.tagName.toLowerCase()\n    if (t.id) origin += '#' + t.id\n    if (t.className) {\n      for (let i = 0; i < t.classList.length; i++) origin += '.' + t.classList[i]\n    }\n  }\n\n  if (origin === 'unknown') {\n    if (typeof target === 'string') origin = target\n    else if (target === document) origin = 'document'\n    else if (target === window) origin = 'window'\n    else if (target instanceof FileReader) origin = 'FileReader'\n  }\n\n  return origin\n}\n"],"names":["eventOrigin","t","target","ee","origin","params","i"],"mappings":"AAYO,SAASA,EAAaC,EAAGC,EAAQC,EAAI,CAC1C,IAAIC,EAAS,UAEb,GAAIH,GAAKA,aAAa,eAAgB,CACpC,MAAMI,EAASF,EAAG,QAAQF,CAAC,EAAE,OAC7B,GAAI,CAACI,GAAU,CAACA,EAAO,QAAU,CAACA,EAAO,QAAU,CAACA,EAAO,MAAQ,CAACA,EAAO,SAAU,MAAO,mBAC5FD,EAASC,EAAO,OAAS,IAAMA,EAAO,OAAS,KAAOA,EAAO,KAAOA,EAAO,QAC/E,SAAaJ,GAAK,OAAQA,EAAE,SAAa,WACrCG,EAASH,EAAE,QAAQ,YAAW,EAC1BA,EAAE,KAAIG,GAAU,IAAMH,EAAE,IACxBA,EAAE,WACJ,QAASK,EAAI,EAAGA,EAAIL,EAAE,UAAU,OAAQK,IAAKF,GAAU,IAAMH,EAAE,UAAUK,CAAC,EAI9E,OAAIF,IAAW,YACT,OAAOF,GAAW,SAAUE,EAASF,EAChCA,IAAW,SAAUE,EAAS,WAC9BF,IAAW,OAAQE,EAAS,SAC5BF,aAAkB,aAAYE,EAAS,eAG3CA,CACT","x_google_ignoreList":[0]}