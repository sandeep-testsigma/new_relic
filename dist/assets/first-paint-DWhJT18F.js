import{j as ee,al as he,l as _}from"./index-CLiCiK9V.js";var R,Y,S=function(){var e=self.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0];if(e&&e.responseStart>0&&e.responseStart<performance.now())return e},A=function(e){if(document.readyState==="loading")return"loading";var t=S();if(t){if(e<t.domInteractive)return"loading";if(t.domContentLoadedEventStart===0||e<t.domContentLoadedEventStart)return"dom-interactive";if(t.domComplete===0||e<t.domComplete)return"dom-content-loaded"}return"complete"},ve=function(e){var t=e.nodeName;return e.nodeType===1?t.toLowerCase():t.toUpperCase().replace(/^#/,"")},j=function(e,t){var r="";try{for(;e&&e.nodeType!==9;){var i=e,n=i.id?"#"+i.id:ve(i)+(i.classList&&i.classList.value&&i.classList.value.trim()&&i.classList.value.trim().length?"."+i.classList.value.trim().replace(/\s+/g,"."):"");if(r.length+n.length>(t||100)-1)return r||n;if(r=r?n+">"+r:n,i.id)break;e=i.parentNode}}catch{}return r},te=-1,ne=function(){return te},b=function(e){addEventListener("pageshow",function(t){t.persisted&&(te=t.timeStamp,e(t))},!0)},w=function(){var e=S();return e&&e.activationStart||0},m=function(e,t){var r=S(),i="navigate";return ne()>=0?i="back-forward-cache":r&&(document.prerendering||w()>0?i="prerender":document.wasDiscarded?i="restore":r.type&&(i=r.type.replace(/_/g,"-"))),{name:e,value:t===void 0?-1:t,rating:"good",delta:0,entries:[],id:"v4-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:i}},C=function(e,t,r){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var i=new PerformanceObserver(function(n){Promise.resolve().then(function(){t(n.getEntries())})});return i.observe(Object.assign({type:e,buffered:!0},r||{})),i}}catch{}},p=function(e,t,r,i){var n,s;return function(a){t.value>=0&&(a||i)&&((s=t.value-(n||0))||n===void 0)&&(n=t.value,t.delta=s,t.rating=function(o,u){return o>u[1]?"poor":o>u[0]?"needs-improvement":"good"}(t.value,r),e(t))}},U=function(e){requestAnimationFrame(function(){return requestAnimationFrame(function(){return e()})})},D=function(e){document.addEventListener("visibilitychange",function(){document.visibilityState==="hidden"&&e()})},q=function(e){var t=!1;return function(){t||(e(),t=!0)}},T=-1,z=function(){return document.visibilityState!=="hidden"||document.prerendering?1/0:0},F=function(e){document.visibilityState==="hidden"&&T>-1&&(T=e.type==="visibilitychange"?e.timeStamp:0,ge())},G=function(){addEventListener("visibilitychange",F,!0),addEventListener("prerenderingchange",F,!0)},ge=function(){removeEventListener("visibilitychange",F,!0),removeEventListener("prerenderingchange",F,!0)},re=function(){return T<0&&(T=z(),G(),b(function(){setTimeout(function(){T=z(),G()},0)})),{get firstHiddenTime(){return T}}},N=function(e){document.prerendering?addEventListener("prerenderingchange",function(){return e()},!0):e()},X=[1800,3e3],ie=function(e,t){t=t||{},N(function(){var r,i=re(),n=m("FCP"),s=C("paint",function(a){a.forEach(function(o){o.name==="first-contentful-paint"&&(s.disconnect(),o.startTime<i.firstHiddenTime&&(n.value=Math.max(o.startTime-w(),0),n.entries.push(o),r(!0)))})});s&&(r=p(e,n,X,t.reportAllChanges),b(function(a){n=m("FCP"),r=p(e,n,X,t.reportAllChanges),U(function(){n.value=performance.now()-a.timeStamp,r(!0)})}))})},J=[.1,.25],Fe=function(e,t){(function(r,i){i=i||{},ie(q(function(){var n,s=m("CLS",0),a=0,o=[],u=function(f){f.forEach(function(d){if(!d.hadRecentInput){var h=o[0],M=o[o.length-1];a&&d.startTime-M.startTime<1e3&&d.startTime-h.startTime<5e3?(a+=d.value,o.push(d)):(a=d.value,o=[d])}}),a>s.value&&(s.value=a,s.entries=o,n())},c=C("layout-shift",u);c&&(n=p(r,s,J,i.reportAllChanges),D(function(){u(c.takeRecords()),n(!0)}),b(function(){a=0,s=m("CLS",0),n=p(r,s,J,i.reportAllChanges),U(function(){return n()})}),setTimeout(n,0))}))})(function(r){var i=function(n){var s,a={};if(n.entries.length){var o=n.entries.reduce(function(c,f){return c&&c.value>f.value?c:f});if(o&&o.sources&&o.sources.length){var u=(s=o.sources).find(function(c){return c.node&&c.node.nodeType===1})||s[0];u&&(a={largestShiftTarget:j(u.node),largestShiftTime:o.startTime,largestShiftValue:o.value,largestShiftSource:u,largestShiftEntry:o,loadState:A(o.startTime)})}}return Object.assign(n,{attribution:a})}(r);e(i)},t)},Te=function(e,t){ie(function(r){var i=function(n){var s={timeToFirstByte:0,firstByteToFCP:n.value,loadState:A(ne())};if(n.entries.length){var a=S(),o=n.entries[n.entries.length-1];if(a){var u=a.activationStart||0,c=Math.max(0,a.responseStart-u);s={timeToFirstByte:c,firstByteToFCP:n.value-c,loadState:A(n.entries[0].startTime),navigationEntry:a,fcpEntry:o}}}return Object.assign(n,{attribution:s})}(r);e(i)},t)},ae=0,x=1/0,P=0,ye=function(e){e.forEach(function(t){t.interactionId&&(x=Math.min(x,t.interactionId),P=Math.max(P,t.interactionId),ae=P?(P-x)/7+1:0)})},oe=function(){return R?ae:performance.interactionCount||0},Ee=function(){"interactionCount"in performance||R||(R=C("event",ye,{type:"event",buffered:!0,durationThreshold:0}))},l=[],I=new Map,se=0,Se=function(){var e=Math.min(l.length-1,Math.floor((oe()-se)/50));return l[e]},ue=[],be=function(e){if(ue.forEach(function(n){return n(e)}),e.interactionId||e.entryType==="first-input"){var t=l[l.length-1],r=I.get(e.interactionId);if(r||l.length<10||e.duration>t.latency){if(r)e.duration>r.latency?(r.entries=[e],r.latency=e.duration):e.duration===r.latency&&e.startTime===r.entries[0].startTime&&r.entries.push(e);else{var i={id:e.interactionId,latency:e.duration,entries:[e]};I.set(i.id,i),l.push(i)}l.sort(function(n,s){return s.latency-n.latency}),l.length>10&&l.splice(10).forEach(function(n){return I.delete(n.id)})}}},H=function(e){var t=self.requestIdleCallback||self.setTimeout,r=-1;return e=q(e),document.visibilityState==="hidden"?e():(r=t(e),D(e)),r},K=[200,500],Ce=function(e,t){"PerformanceEventTiming"in self&&"interactionId"in PerformanceEventTiming.prototype&&(t=t||{},N(function(){var r;Ee();var i,n=m("INP"),s=function(o){H(function(){o.forEach(be);var u=Se();u&&u.latency!==n.value&&(n.value=u.latency,n.entries=u.entries,i())})},a=C("event",s,{durationThreshold:(r=t.durationThreshold)!==null&&r!==void 0?r:40});i=p(e,n,K,t.reportAllChanges),a&&(a.observe({type:"first-input",buffered:!0}),D(function(){s(a.takeRecords()),i(!0)}),b(function(){se=oe(),l.length=0,I.clear(),n=m("INP"),i=p(e,n,K,t.reportAllChanges)}))}))},y=[],v=[],k=0,W=new WeakMap,E=new Map,V=-1,Me=function(e){y=y.concat(e),ce()},ce=function(){V<0&&(V=H(Ie))},Ie=function(){E.size>10&&E.forEach(function(a,o){I.has(o)||E.delete(o)});var e=l.map(function(a){return W.get(a.entries[0])}),t=v.length-50;v=v.filter(function(a,o){return o>=t||e.includes(a)});for(var r=new Set,i=0;i<v.length;i++){var n=v[i];fe(n.startTime,n.processingEnd).forEach(function(a){r.add(a)})}var s=y.length-1-50;y=y.filter(function(a,o){return a.startTime>k&&o>s||r.has(a)}),V=-1};ue.push(function(e){e.interactionId&&e.target&&!E.has(e.interactionId)&&E.set(e.interactionId,e.target)},function(e){var t,r=e.startTime+e.duration;k=Math.max(k,e.processingEnd);for(var i=v.length-1;i>=0;i--){var n=v[i];if(Math.abs(r-n.renderTime)<=8){(t=n).startTime=Math.min(e.startTime,t.startTime),t.processingStart=Math.min(e.processingStart,t.processingStart),t.processingEnd=Math.max(e.processingEnd,t.processingEnd),t.entries.push(e);break}}t||(t={startTime:e.startTime,processingStart:e.processingStart,processingEnd:e.processingEnd,renderTime:r,entries:[e]},v.push(t)),(e.interactionId||e.entryType==="first-input")&&W.set(e,t),ce()});var fe=function(e,t){for(var r,i=[],n=0;r=y[n];n++)if(!(r.startTime+r.duration<e)){if(r.startTime>t)break;i.push(r)}return i},we=function(e,t){Y||(Y=C("long-animation-frame",Me)),Ce(function(r){var i=function(n){var s=n.entries[0],a=W.get(s),o=s.processingStart,u=a.processingEnd,c=a.entries.sort(function(g,pe){return g.processingStart-pe.processingStart}),f=fe(s.startTime,u),d=n.entries.find(function(g){return g.target}),h=d&&d.target||E.get(s.interactionId),M=[s.startTime+s.duration,u].concat(f.map(function(g){return g.startTime+g.duration})),L=Math.max.apply(Math,M),me={interactionTarget:j(h),interactionTargetElement:h,interactionType:s.name.startsWith("key")?"keyboard":"pointer",interactionTime:s.startTime,nextPaintTime:L,processedEventEntries:c,longAnimationFrameEntries:f,inputDelay:o-s.startTime,processingDuration:u-o,presentationDelay:Math.max(L-u,0),loadState:A(s.startTime)};return Object.assign(n,{attribution:me})}(r);e(i)},t)},Q=[2500,4e3],B={},De=function(e,t){(function(r,i){i=i||{},N(function(){var n,s=re(),a=m("LCP"),o=function(f){i.reportAllChanges||(f=f.slice(-1)),f.forEach(function(d){d.startTime<s.firstHiddenTime&&(a.value=Math.max(d.startTime-w(),0),a.entries=[d],n())})},u=C("largest-contentful-paint",o);if(u){n=p(r,a,Q,i.reportAllChanges);var c=q(function(){B[a.id]||(o(u.takeRecords()),u.disconnect(),B[a.id]=!0,n(!0))});["keydown","click"].forEach(function(f){addEventListener(f,function(){return H(c)},{once:!0,capture:!0})}),D(c),b(function(f){a=m("LCP"),n=p(r,a,Q,i.reportAllChanges),U(function(){a.value=performance.now()-f.timeStamp,B[a.id]=!0,n(!0)})})}})})(function(r){var i=function(n){var s={timeToFirstByte:0,resourceLoadDelay:0,resourceLoadDuration:0,elementRenderDelay:n.value};if(n.entries.length){var a=S();if(a){var o=a.activationStart||0,u=n.entries[n.entries.length-1],c=u.url&&performance.getEntriesByType("resource").filter(function(L){return L.name===u.url})[0],f=Math.max(0,a.responseStart-o),d=Math.max(f,c?(c.requestStart||c.startTime)-o:0),h=Math.max(d,c?c.responseEnd-o:0),M=Math.max(h,u.startTime-o);s={element:j(u.element),timeToFirstByte:f,resourceLoadDelay:d-f,resourceLoadDuration:h-d,elementRenderDelay:M-h,navigationEntry:a,lcpEntry:u},u.url&&(s.url=u.url),c&&(s.lcpResourceEntry=c)}}return Object.assign(n,{attribution:s})}(r);e(i)},t)},Z=[800,1800],Le=function e(t){document.prerendering?N(function(){return e(t)}):document.readyState!=="complete"?addEventListener("load",function(){return e(t)},!0):setTimeout(t,0)},Pe=function(e,t){t=t||{};var r=m("TTFB"),i=p(e,r,Z,t.reportAllChanges);Le(function(){var n=S();n&&(r.value=Math.max(n.responseStart-w(),0),r.entries=[n],i(!0),b(function(){r=m("TTFB",0),(i=p(e,r,Z,t.reportAllChanges))(!0)}))})},Ne=function(e,t){Pe(function(r){var i=function(n){var s={waitingDuration:0,cacheDuration:0,dnsDuration:0,connectionDuration:0,requestDuration:0};if(n.entries.length){var a=n.entries[0],o=a.activationStart||0,u=Math.max((a.workerStart||a.fetchStart)-o,0),c=Math.max(a.domainLookupStart-o,0),f=Math.max(a.connectStart-o,0),d=Math.max(a.connectEnd-o,0);s={waitingDuration:u,cacheDuration:c-u,dnsDuration:f-c,connectionDuration:d-f,requestDuration:n.value-d,navigationEntry:a}}return Object.assign(n,{attribution:s})}(r);e(i)},t)};const de={FIRST_PAINT:"fp",FIRST_CONTENTFUL_PAINT:"fcp",LARGEST_CONTENTFUL_PAINT:"lcp",CUMULATIVE_LAYOUT_SHIFT:"cls",INTERACTION_TO_NEXT_PAINT:"inp",TIME_TO_FIRST_BYTE:"ttfb"};class le{#e=new Set;history=[];constructor(t,r){this.name=t,this.attrs={},this.roundingMethod=typeof r=="function"?r:Math.floor}update({value:t,attrs:r={}}){if(t==null||t<0)return;const i={value:this.roundingMethod(t),name:this.name,attrs:r};this.history.push(i),this.#e.forEach(n=>{try{n(i)}catch{}})}get current(){return this.history[this.history.length-1]||{value:void 0,name:this.name,attrs:{}}}get isValid(){return this.current.value>=0}subscribe(t,r=!0){if(typeof t=="function")return this.#e.add(t),this.isValid&&r&&this.history.forEach(i=>{t(i)}),()=>{this.#e.delete(t)}}}const O=new le(de.FIRST_CONTENTFUL_PAINT);if(ee)if(he)try{_||performance.getEntriesByType("paint").forEach(t=>{t.name==="first-contentful-paint"&&O.update({value:Math.floor(t.startTime)})})}catch{}else Te(({value:e,attribution:t})=>{if(_||O.isValid)return;const r={timeToFirstByte:t.timeToFirstByte,firstByteToFCP:t.firstByteToFCP,loadState:t.loadState};O.update({value:e,attrs:r})});const $=new le(de.FIRST_PAINT);if(ee){const e=r=>{r.forEach(i=>{i.name==="first-paint"&&!$.isValid&&(t.disconnect(),$.update({value:i.startTime}))})};let t;try{PerformanceObserver.supportedEntryTypes.includes("paint")&&!_&&(t=new PerformanceObserver(r=>{Promise.resolve().then(()=>{e(r.getEntries())})}),t.observe({type:"paint",buffered:!0}))}catch{}}export{Fe as D,le as V,O as a,de as b,Ne as c,$ as f,De as o,we as r};
//# sourceMappingURL=first-paint-DWhJT18F.js.map
